{% extends 'base.html.twig' %}

{% block body %}
    {% block titreh1 %}<h1>Espace lecteur</h1>{% endblock %}
    <h2>Mes informations</h2>
        
    <ul class="li-group">
        <li class="list-group-item">
            <strong>Pseudo : </strong>{{ app.user.pseudo }}
        </li>
        <li class="list-group-item">
            <strong>Identité : </strong>{{ app.user.prenom ~ " " ~ app.user.nom }}
        </li>
    </ul>
    <h2>Mes emprunts</h2>
        <table class="table-bordered">
                    <thead class="thead-dark">
                        <tr>
                            <th>Livre</th>
                            <th>Emprunté le</th>
                            <th>Rendu le</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for e in app.user.emprunts %}
                                <tr>
                                    <td>{{ e.livre.titre }}, <i>{{ e.livre.auteur.identite }}</i></td>
                                    <td>{{ e.sortie|date() }}</td>
                                    <td>{{ e.retour ? e.retour|date() : "à rendre" }}</td>
                                </tr>                        
                        {% else %}
                                <tr class="td">
                                    <td colspan="3" class="alert alert-info">Aucun emprunt</td>
                                </tr>
                        {% endfor %}
                    </tbody>
                    </table>
{% endblock %}

